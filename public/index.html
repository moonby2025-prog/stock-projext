<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏΩîÏä§Ìîº/ÏΩîÏä§Îã• ÌÜµÌï© ÎåÄÏãúÎ≥¥Îìú (ÏßÑÎã® Î™®Îìú)</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Roboto+Mono:wght@500;700&display=swap" rel="stylesheet">
    <style>
        /* Original App Styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .num-font { font-family: 'Roboto Mono', monospace; letter-spacing: -0.5px; }
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
        .stock-item {
            cursor: pointer;
            padding: 0.5rem;
            transition: all 0.2s ease;
            border-radius: 0.5rem;
            border: 1px solid transparent;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 5rem;
        }
        .stock-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }
        .stock-item.active {
            ring: 2px solid #4f46e5;
            ring-offset: 1px;
            z-index: 20;
            background-color: #ffffff;
            border-color: #4f46e5;
        }
        .bg-up { background-color: #fff1f2; border-color: #fecdd3; }
        .bg-down { background-color: #eff6ff; border-color: #bfdbfe; }
        .text-up { color: #e11d48; }
        .text-down { color: #2563eb; }
        .global-card {
            background-color: white;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 0.75rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }
        .rank-badge {
            font-size: 0.6rem;
            padding: 0.1rem 0.4rem;
            border-radius: 9999px;
            font-weight: 800;
            color: white;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        .rank-kospi { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        .rank-kosdaq { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
        .loading { animation: pulse-soft 1.5s infinite; }
        @keyframes pulse-soft { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }

        /* Error Banner */
        #error-banner {
            display: none;
            background-color: #fee2e2;
            border-bottom: 1px solid #ef4444;
            color: #b91c1c;
            padding: 0.5rem;
            font-size: 0.75rem;
            text-align: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 9999;
        }
    </style>
</head>
<body class="p-3 h-screen w-screen overflow-hidden text-slate-800 flex flex-col gap-3">

    <!-- Error Diagnostic Banner -->
    <div id="error-banner"></div>

    <!-- 1. Header & Controls -->
    <header class="flex-none flex items-center justify-between bg-white px-4 py-3 rounded-xl shadow-sm border border-slate-200 mt-2">
        <div class="flex items-center space-x-4">
            <h1 class="text-xl font-extrabold text-slate-900 tracking-tight flex items-center gap-2">
                <span>üìà</span>
                <span>Market Dashboard</span>
            </h1>
            <span id="last-updated" class="text-xs text-slate-400 border-l pl-3 hidden sm:inline font-mono">
                Initialize...
            </span>
        </div>
        
        <div class="flex items-center gap-2">
            <button onclick="app.refreshData()" class="p-2 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors" title="Îç∞Ïù¥ÌÑ∞ ÏÉàÎ°úÍ≥†Ïπ®">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                </svg>
            </button>
            <div class="inline-flex p-1 bg-slate-100 rounded-lg">
                <button id="filter-all" onclick="app.setFilter('ALL')" class="px-3 py-1.5 text-xs font-bold rounded-md transition-all">ALL</button>
                <button id="filter-kospi" onclick="app.setFilter('KOSPI')" class="px-3 py-1.5 text-xs font-bold rounded-md transition-all">KOSPI</button>
                <button id="filter-kosdaq" onclick="app.setFilter('KOSDAQ')" class="px-3 py-1.5 text-xs font-bold rounded-md transition-all">KOSDAQ</button>
            </div>
        </div>
    </header>

    <!-- 2. Global Market Indicators -->
    <section id="global-stats" class="flex-none grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3">
        <!-- JS Rendered -->
    </section>
    
    <!-- 3. Main Split View -->
    <main class="flex-1 min-h-0 flex flex-col lg:flex-row gap-4">
        <section class="flex-1 bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col min-h-0 min-w-0">
            <div class="flex-none px-4 py-3 border-b border-slate-100 flex justify-between items-center bg-slate-50 rounded-t-xl">
                <h2 class="text-sm font-bold text-slate-700 flex items-center">
                    <span class="w-1.5 h-4 bg-indigo-600 rounded-full mr-2"></span>
                    ÏãúÏû• ÏßÄÎèÑ (Market Map)
                </h2>
                <div class="text-[10px] text-slate-400 bg-white px-2 py-1 rounded border">Market Cap Weighted</div>
            </div>
            <div id="loading-overlay" class="hidden absolute inset-0 bg-white/80 z-50 flex items-center justify-center">
                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"></div>
            </div>
            <div class="flex-1 overflow-y-auto p-3 custom-scroll bg-slate-50/50">
                <div id="industry-grid" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3">
                    <!-- Cards -->
                </div>
            </div>
        </section>

        <aside class="flex-none w-full lg:w-80 bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col min-h-0">
            <div class="flex-none p-5 border-b border-slate-50">
                <div class="flex justify-between items-start mb-1">
                    <span id="detail-badge" class="px-2 py-0.5 bg-slate-100 text-slate-600 text-[10px] font-bold rounded">MARKET</span>
                    <span id="detail-industry" class="text-xs text-slate-400 font-medium truncate ml-2">Sector</span>
                </div>
                <div class="flex justify-between items-end">
                    <h2 id="detail-name" class="text-xl font-black text-slate-900 leading-tight">Loading...</h2>
                    <span id="detail-code" class="text-xs text-slate-400 num-font mb-1">------</span>
                </div>
            </div>
            <div class="flex-1 overflow-y-auto p-5 custom-scroll">
                <div class="mb-6">
                    <div class="flex items-baseline space-x-2">
                        <span id="detail-price" class="text-3xl font-black num-font text-slate-900">-</span>
                        <span class="text-xs text-slate-500 font-medium">KRW</span>
                    </div>
                    <div class="flex items-center mt-2 space-x-2">
                        <span id="detail-change" class="text-md font-bold num-font">-</span>
                        <span id="detail-rate" class="px-2 py-0.5 rounded text-[10px] font-bold num-font">-</span>
                    </div>
                </div>
                <div class="mb-6 bg-slate-50 p-3 rounded-lg border border-slate-100">
                    <div class="flex justify-between text-[10px] text-slate-400 mb-1 font-semibold">
                        <span>Day Low</span>
                        <span>Day High</span>
                    </div>
                    <div class="w-full h-1.5 bg-slate-200 rounded-full relative mt-1">
                        <div class="absolute top-0 bottom-0 bg-slate-400 rounded-full w-full opacity-30"></div>
                        <div id="price-dot" class="w-3 h-3 bg-indigo-600 border-2 border-white rounded-full absolute top-1/2 -translate-y-1/2 shadow-sm" style="left: 50%;"></div>
                    </div>
                    <div class="flex justify-between text-[10px] num-font text-slate-400 mt-2">
                        <span id="sim-low">-</span>
                        <span id="sim-high">-</span>
                    </div>
                </div>
                <div class="mb-4">
                    <h4 class="text-xs font-bold text-slate-800 mb-3 flex items-center">
                        <span class="w-1 h-3 bg-slate-800 mr-2 rounded-full"></span>
                        Í¥ÄÎ†® Îâ¥Ïä§
                    </h4>
                    <div id="news-list" class="space-y-2"></div>
                </div>
            </div>
            <div class="flex-none p-3 border-t border-slate-50 bg-slate-50/50 rounded-b-xl grid grid-cols-2 gap-2">
                <a id="naver-link" href="#" target="_blank" class="flex justify-center items-center py-2.5 rounded-lg bg-[#03C75A] hover:bg-[#02b350] text-white font-bold text-xs transition shadow-sm shadow-green-100">ÎÑ§Ïù¥Î≤Ñ Ï¶ùÍ∂å</a>
                <a id="dart-link" href="#" target="_blank" class="flex justify-center items-center py-2.5 rounded-lg bg-[#F3B648] hover:bg-[#e0a435] text-white font-bold text-xs transition shadow-sm shadow-yellow-100">DART Í≥µÏãú</a>
            </div>
        </aside>
    </main>

    <script>
        // [Safety Check] Global Error Handler
        window.onerror = function(message, source, lineno, colno, error) {
            const banner = document.getElementById('error-banner');
            banner.style.display = 'block';
            banner.textContent = `‚ö†Ô∏è Ïò§Î•ò Î∞úÏÉù: ${message} (Line: ${lineno}) - Ïï±Ïù¥ Ï†ïÏßÄÎêú Í≤ΩÏö∞ ÏÉàÎ°úÍ≥†Ïπ® Ìï¥Ï£ºÏÑ∏Ïöî.`;
            console.error("Dashboard Error:", error);
            return false;
        };

        /**
         * [API Service Layer]
         * Mock Data Service - Safe Mode
         */
        class StockApiService {
            constructor() {
                // 2025-12-04 Snapshot Data
                this.db = {
                    global: [
                        { name: 'KOSPI', value: 4023.74, change: -12.45, rate: -0.31 },
                        { name: 'KOSDAQ', value: 932.01, change: 3.59, rate: 0.39 },
                        { name: 'USD/KRW', value: 1472.09, change: 7.00, rate: 0.47 },
                        { name: 'Samsung', value: 105100, change: 600, rate: 0.57 },
                        { name: 'SK Hynix', value: 542000, change: -10000, rate: -1.81 },
                        { name: 'NASDAQ(F)', value: 25647.50, change: -10.00, rate: -0.04 }
                    ],
                    stocks: [
                        // --- KOSPI Top 60 ---
                        { rank: 1, name: 'ÏÇºÏÑ±Ï†ÑÏûê', code: '005930', market: 'KOSPI', price: 105100, change: 600, rate: 0.57, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 2, name: 'SKÌïòÏù¥ÎãâÏä§', code: '000660', market: 'KOSPI', price: 542000, change: -10000, rate: -1.81, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 3, name: 'LGÏóêÎÑàÏßÄÏÜîÎ£®ÏÖò', code: '373220', market: 'KOSPI', price: 442000, change: 2000, rate: 0.45, industry: '2Ï∞®Ï†ÑÏßÄ' },
                        { rank: 4, name: 'ÏÇºÏÑ±Î∞îÏù¥Ïò§Î°úÏßÅÏä§', code: '207940', market: 'KOSPI', price: 980000, change: 15000, rate: 1.55, industry: 'Î∞îÏù¥Ïò§' },
                        { rank: 5, name: 'ÌòÑÎåÄÏ∞®', code: '005380', market: 'KOSPI', price: 265000, change: -1000, rate: -0.38, industry: 'ÏûêÎèôÏ∞®' },
                        { rank: 6, name: 'Í∏∞ÏïÑ', code: '000270', market: 'KOSPI', price: 121000, change: 500, rate: 0.41, industry: 'ÏûêÎèôÏ∞®' },
                        { rank: 7, name: 'ÏÖÄÌä∏Î¶¨Ïò®', code: '068270', market: 'KOSPI', price: 192000, change: -2000, rate: -1.03, industry: 'Î∞îÏù¥Ïò§' },
                        { rank: 8, name: 'KBÍ∏àÏúµ', code: '105560', market: 'KOSPI', price: 82000, change: 1200, rate: 1.49, industry: 'Í∏àÏúµ' },
                        { rank: 9, name: 'NAVER', code: '035420', market: 'KOSPI', price: 195000, change: -1500, rate: -0.76, industry: 'ÌîåÎû´Ìèº' },
                        { rank: 10, name: 'POSCOÌôÄÎî©Ïä§', code: '005490', market: 'KOSPI', price: 455000, change: 4000, rate: 0.89, industry: 'Ï≤†Í∞ï' },
                        { rank: 11, name: 'Ïπ¥Ïπ¥Ïò§', code: '035720', market: 'KOSPI', price: 52000, change: -500, rate: -0.95, industry: 'ÌîåÎû´Ìèº' },
                        { rank: 12, name: 'ÏÇºÏÑ±SDI', code: '006400', market: 'KOSPI', price: 385000, change: 0, rate: 0.00, industry: '2Ï∞®Ï†ÑÏßÄ' },
                        { rank: 13, name: 'LGÌôîÌïô', code: '051910', market: 'KOSPI', price: 390000, change: -3000, rate: -0.76, industry: 'ÌôîÌïô' },
                        { rank: 14, name: 'Ïã†ÌïúÏßÄÏ£º', code: '055550', market: 'KOSPI', price: 54000, change: 600, rate: 1.12, industry: 'Í∏àÏúµ' },
                        { rank: 15, name: 'ÌòÑÎåÄÎ™®ÎπÑÏä§', code: '012330', market: 'KOSPI', price: 245000, change: -1000, rate: -0.41, industry: 'ÏûêÎèôÏ∞®' },
                        { rank: 16, name: 'Ìè¨Ïä§ÏΩîÌì®Ï≤òÏó†', code: '003670', market: 'KOSPI', price: 320000, change: 5000, rate: 1.59, industry: '2Ï∞®Ï†ÑÏßÄ' },
                        { rank: 17, name: 'ÌïòÎÇòÍ∏àÏúµÏßÄÏ£º', code: '086790', market: 'KOSPI', price: 62000, change: 800, rate: 1.31, industry: 'Í∏àÏúµ' },
                        { rank: 18, name: 'LGÏ†ÑÏûê', code: '066570', market: 'KOSPI', price: 105000, change: -500, rate: -0.47, industry: 'ITÍ∞ÄÏ†Ñ' },
                        { rank: 19, name: 'ÏÇºÏÑ±Î¨ºÏÇ∞', code: '028260', market: 'KOSPI', price: 145000, change: 1000, rate: 0.69, industry: 'ÏßÄÏ£ºÏÇ¨' },
                        { rank: 20, name: 'Î©îÎ¶¨Ï∏†Í∏àÏúµ', code: '138040', market: 'KOSPI', price: 78000, change: 1500, rate: 1.96, industry: 'Í∏àÏúµ' },
                        { rank: 21, name: 'SKÏù¥ÎÖ∏Î≤†Ïù¥ÏÖò', code: '096770', market: 'KOSPI', price: 115000, change: -1500, rate: -1.29, industry: 'Ï†ïÏú†/ÌôîÌïô' },
                        { rank: 22, name: 'ÌïúÍµ≠Ï†ÑÎ†•', code: '015760', market: 'KOSPI', price: 21000, change: 100, rate: 0.48, industry: 'Ïú†Ìã∏Î¶¨Ìã∞' },
                        { rank: 23, name: 'ÌÅ¨ÎûòÌîÑÌÜ§', code: '259960', market: 'KOSPI', price: 295000, change: -3000, rate: -1.01, industry: 'Í≤åÏûÑ' },
                        { rank: 24, name: 'KT&G', code: '033780', market: 'KOSPI', price: 92000, change: 500, rate: 0.55, industry: 'ÏùåÏãùÎ£å' },
                        { rank: 25, name: 'ÏÇºÏÑ±ÏÉùÎ™Ö', code: '032830', market: 'KOSPI', price: 89000, change: 1000, rate: 1.14, industry: 'Î≥¥Ìóò' },
                        { rank: 26, name: 'HDÌòÑÎåÄÏ§ëÍ≥µÏóÖ', code: '329180', market: 'KOSPI', price: 135000, change: 2500, rate: 1.89, industry: 'Ï°∞ÏÑ†' },
                        { rank: 27, name: 'ÏÇºÏÑ±Ï†ÑÍ∏∞', code: '009150', market: 'KOSPI', price: 155000, change: -500, rate: -0.32, industry: 'ITÎ∂ÄÌíà' },
                        { rank: 28, name: 'HMM', code: '011200', market: 'KOSPI', price: 18500, change: -200, rate: -1.07, industry: 'Ìï¥Ïö¥' },
                        { rank: 29, name: 'ÎëêÏÇ∞ÏóêÎÑàÎπåÎ¶¨Ìã∞', code: '034020', market: 'KOSPI', price: 19500, change: 300, rate: 1.56, industry: 'Í∏∞Í≥Ñ' },
                        { rank: 30, name: 'SKÌÖîÎ†àÏΩ§', code: '017670', market: 'KOSPI', price: 54000, change: 200, rate: 0.37, industry: 'ÌÜµÏã†' },
                        { rank: 31, name: 'Ïö∞Î¶¨Í∏àÏúµÏßÄÏ£º', code: '316140', market: 'KOSPI', price: 15200, change: 100, rate: 0.66, industry: 'Í∏àÏúµ' },
                        { rank: 32, name: 'Í∏∞ÏóÖÏùÄÌñâ', code: '024110', market: 'KOSPI', price: 13500, change: 50, rate: 0.37, industry: 'Í∏àÏúµ' },
                        { rank: 33, name: 'LGÏÉùÌôúÍ±¥Í∞ï', code: '051900', market: 'KOSPI', price: 350000, change: -4000, rate: -1.13, industry: 'ÌôîÏû•Ìíà' },
                        { rank: 34, name: 'S-Oil', code: '010950', market: 'KOSPI', price: 68000, change: -500, rate: -0.73, industry: 'Ï†ïÏú†' },
                        { rank: 35, name: 'ÏÇºÏÑ±ÌôîÏû¨', code: '000810', market: 'KOSPI', price: 315000, change: 3000, rate: 0.96, industry: 'Î≥¥Ìóò' },
                        { rank: 36, name: 'ÌïòÏù¥Î∏å', code: '352820', market: 'KOSPI', price: 210000, change: -2500, rate: -1.18, industry: 'ÏóîÌÑ∞' },
                        { rank: 37, name: 'Í≥†Î†§ÏïÑÏó∞', code: '010130', market: 'KOSPI', price: 520000, change: 4000, rate: 0.78, industry: 'Ï≤†Í∞ï' },
                        { rank: 38, name: 'KT', code: '030200', market: 'KOSPI', price: 38000, change: 300, rate: 0.80, industry: 'ÌÜµÏã†' },
                        { rank: 39, name: 'ÎåÄÌïúÌï≠Í≥µ', code: '003490', market: 'KOSPI', price: 24500, change: 200, rate: 0.82, industry: 'Ìï≠Í≥µ' },
                        { rank: 40, name: 'Ïπ¥Ïπ¥Ïò§Î±ÖÌÅ¨', code: '323410', market: 'KOSPI', price: 26500, change: -300, rate: -1.12, industry: 'Í∏àÏúµ' },
                        { rank: 41, name: 'SK', code: '034730', market: 'KOSPI', price: 165000, change: 1000, rate: 0.61, industry: 'ÏßÄÏ£ºÏÇ¨' },
                        { rank: 42, name: 'ÌïúÍµ≠Ï°∞ÏÑ†Ìï¥Ïñë', code: '009540', market: 'KOSPI', price: 112000, change: 1500, rate: 1.36, industry: 'Ï°∞ÏÑ†' },
                        { rank: 43, name: 'ÌïúÌôîÏóêÏñ¥Î°úÏä§ÌéòÏù¥Ïä§', code: '012450', market: 'KOSPI', price: 195000, change: 4000, rate: 2.09, industry: 'Î∞©ÏÇ∞' },
                        { rank: 44, name: 'ÏÇºÏÑ±ÏóêÏä§ÎîîÏóêÏä§', code: '018260', market: 'KOSPI', price: 155000, change: -1000, rate: -0.64, industry: 'ITÏÑúÎπÑÏä§' },
                        { rank: 45, name: 'ÏóîÏî®ÏÜåÌîÑÌä∏', code: '036570', market: 'KOSPI', price: 185000, change: -2000, rate: -1.07, industry: 'Í≤åÏûÑ' },
                        { rank: 46, name: 'ÏïÑÎ™®Î†àÌçºÏãúÌîΩ', code: '090430', market: 'KOSPI', price: 135000, change: -1500, rate: -1.10, industry: 'ÌôîÏû•Ìíà' },
                        { rank: 47, name: 'LGÏù¥ÎÖ∏ÌÖç', code: '011070', market: 'KOSPI', price: 235000, change: 1000, rate: 0.43, industry: 'ITÎ∂ÄÌíà' },
                        { rank: 48, name: 'ÌïúÌôîÏÜîÎ£®ÏÖò', code: '009830', market: 'KOSPI', price: 28500, change: -300, rate: -1.04, industry: 'ÌôîÌïô' },
                        { rank: 49, name: 'Î°ØÎç∞ÏºÄÎØ∏Ïπº', code: '011170', market: 'KOSPI', price: 125000, change: -1000, rate: -0.79, industry: 'ÌôîÌïô' },
                        { rank: 50, name: 'HDÌòÑÎåÄÏùºÎ†âÌä∏Î¶≠', code: '267260', market: 'KOSPI', price: 185000, change: 5000, rate: 2.78, industry: 'Í∏∞Í≥Ñ' },
                        { rank: 51, name: 'SKÎ∞îÏù¥Ïò§Ìåú', code: '326030', market: 'KOSPI', price: 92000, change: 1500, rate: 1.66, industry: 'Î∞îÏù¥Ïò§' },
                        { rank: 52, name: 'ÌòÑÎåÄÏ†úÏ≤†', code: '004020', market: 'KOSPI', price: 33500, change: 100, rate: 0.30, industry: 'Ï≤†Í∞ï' },
                        { rank: 53, name: 'ÎÑ∑ÎßàÎ∏î', code: '251270', market: 'KOSPI', price: 58000, change: -500, rate: -0.85, industry: 'Í≤åÏûÑ' },
                        { rank: 54, name: 'CJÏ†úÏùºÏ†úÎãπ', code: '097950', market: 'KOSPI', price: 310000, change: 2000, rate: 0.65, industry: 'ÏùåÏãùÎ£å' },
                        { rank: 55, name: 'Í∞ïÏõêÎûúÎìú', code: '035250', market: 'KOSPI', price: 16500, change: 50, rate: 0.30, industry: 'Î†àÏ†Ä' },
                        { rank: 56, name: 'Ïú†ÌïúÏñëÌñâ', code: '000100', market: 'KOSPI', price: 68000, change: 800, rate: 1.19, industry: 'Ï†úÏïΩ' },
                        { rank: 57, name: 'ÌïúÎØ∏Î∞òÎèÑÏ≤¥', code: '042700', market: 'KOSPI', price: 145000, change: 4500, rate: 3.20, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 58, name: 'Í∏àÌò∏ÏÑùÏú†', code: '011780', market: 'KOSPI', price: 142000, change: -1000, rate: -0.70, industry: 'ÌôîÌïô' },
                        { rank: 59, name: 'ÌòÑÎåÄÍ∏ÄÎ°úÎπÑÏä§', code: '086280', market: 'KOSPI', price: 185000, change: 1000, rate: 0.54, industry: 'Î¨ºÎ•ò' },
                        { rank: 60, name: 'F&F', code: '383220', market: 'KOSPI', price: 72000, change: -500, rate: -0.69, industry: 'ÏùòÎ•ò' },

                        // --- KOSDAQ Top 60 ---
                        { rank: 1, name: 'ÏóêÏΩîÌîÑÎ°úÎπÑÏó†', code: '247540', market: 'KOSDAQ', price: 265000, change: 5000, rate: 1.92, industry: '2Ï∞®Ï†ÑÏßÄ' },
                        { rank: 2, name: 'ÏïåÌÖåÏò§Ï††', code: '196170', market: 'KOSDAQ', price: 345000, change: 12000, rate: 3.60, industry: 'Î∞îÏù¥Ïò§' },
                        { rank: 3, name: 'ÏóêÏΩîÌîÑÎ°ú', code: '086520', market: 'KOSDAQ', price: 94100, change: 1100, rate: 1.27, industry: '2Ï∞®Ï†ÑÏßÄ' },
                        { rank: 4, name: 'HLB', code: '028300', market: 'KOSDAQ', price: 82000, change: -1500, rate: -1.80, industry: 'Î∞îÏù¥Ïò§' },
                        { rank: 5, name: 'Î¶¨Í∞ÄÏºêÎ∞îÏù¥Ïò§', code: '141080', market: 'KOSDAQ', price: 125000, change: 3000, rate: 2.46, industry: 'Î∞îÏù¥Ïò§' },
                        { rank: 6, name: 'ÏóîÏºê', code: '348370', market: 'KOSDAQ', price: 210000, change: -5000, rate: -2.33, industry: '2Ï∞®Ï†ÑÏßÄ' },
                        { rank: 7, name: 'Ìú¥Ï†§', code: '145020', market: 'KOSDAQ', price: 285000, change: 2000, rate: 0.71, industry: 'ÏùòÎ£åÍ∏∞Í∏∞' },
                        { rank: 8, name: 'ÌÅ¥ÎûòÏãúÏä§', code: '214150', market: 'KOSDAQ', price: 52000, change: 1500, rate: 2.97, industry: 'ÏùòÎ£åÍ∏∞Í∏∞' },
                        { rank: 9, name: 'Î¶¨ÎÖ∏Í≥µÏóÖ', code: '058470', market: 'KOSDAQ', price: 245000, change: 4000, rate: 1.66, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 10, name: 'HPSP', code: '403870', market: 'KOSDAQ', price: 42000, change: -800, rate: -1.87, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 11, name: 'Î†àÏù∏Î≥¥Ïö∞Î°úÎ≥¥Ìã±Ïä§', code: '277810', market: 'KOSDAQ', price: 165000, change: 3500, rate: 2.17, industry: 'Î°úÎ¥á' },
                        { rank: 12, name: 'ÌéÑÏñ¥ÎπÑÏä§', code: '263750', market: 'KOSDAQ', price: 38500, change: -500, rate: -1.28, industry: 'Í≤åÏûÑ' },
                        { rank: 13, name: 'ÏÖÄÌä∏Î¶¨Ïò®Ï†úÏïΩ', code: '068760', market: 'KOSDAQ', price: 92000, change: -1000, rate: -1.08, industry: 'Ï†úÏïΩ' },
                        { rank: 14, name: 'ÏÇºÏ≤úÎãπÏ†úÏïΩ', code: '000250', market: 'KOSDAQ', price: 145000, change: 2000, rate: 1.40, industry: 'Ï†úÏïΩ' },
                        { rank: 15, name: 'Ïã§Î¶¨ÏΩòÌà¨', code: '257720', market: 'KOSDAQ', price: 42000, change: 1500, rate: 3.70, industry: 'ÌôîÏû•Ìíà' },
                        { rank: 16, name: 'ÏÜîÎ∏åÎ†àÏù∏', code: '357780', market: 'KOSDAQ', price: 285000, change: -2000, rate: -0.70, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 17, name: 'JYP Ent.', code: '035900', market: 'KOSDAQ', price: 58000, change: -500, rate: -0.85, industry: 'ÏóîÌÑ∞' },
                        { rank: 18, name: 'Ïù¥Ïò§ÌÖåÌÅ¨ÎãâÏä§', code: '039030', market: 'KOSDAQ', price: 175000, change: 3000, rate: 1.74, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 19, name: 'ÎèôÏßÑÏéÑÎØ∏Ïºê', code: '005290', market: 'KOSDAQ', price: 38000, change: 200, rate: 0.53, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 20, name: 'ÏõêÏùµIPS', code: '240810', market: 'KOSDAQ', price: 34500, change: 500, rate: 1.47, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 21, name: 'Ïπ¥Ïπ¥Ïò§Í≤åÏûÑÏ¶à', code: '293490', market: 'KOSDAQ', price: 19500, change: -200, rate: -1.02, industry: 'Í≤åÏûÑ' },
                        { rank: 22, name: 'ÏóêÏä§Ïó†', code: '041510', market: 'KOSDAQ', price: 72000, change: -1000, rate: -1.37, industry: 'ÏóîÌÑ∞' },
                        { rank: 23, name: 'ÌååÎßàÎ¶¨ÏÑúÏπò', code: '214450', market: 'KOSDAQ', price: 185000, change: 4000, rate: 2.21, industry: 'ÏùòÎ£åÍ∏∞Í∏∞' },
                        { rank: 24, name: 'CJ ENM', code: '035760', market: 'KOSDAQ', price: 78000, change: 500, rate: 0.65, industry: 'ÎØ∏ÎîîÏñ¥' },
                        { rank: 25, name: 'Ïä§ÌäúÎîîÏò§ÎìúÎûòÍ≥§', code: '253450', market: 'KOSDAQ', price: 42000, change: -300, rate: -0.71, industry: 'ÎØ∏ÎîîÏñ¥' },
                        { rank: 26, name: 'ÎçîÎ∏îÏú†Ïî®Ìîº', code: '393890', market: 'KOSDAQ', price: 38000, change: -500, rate: -1.30, industry: '2Ï∞®Ï†ÑÏßÄ' },
                        { rank: 27, name: 'ÎåÄÏ£ºÏ†ÑÏûêÏû¨Î£å', code: '078600', market: 'KOSDAQ', price: 95000, change: 2000, rate: 2.15, industry: '2Ï∞®Ï†ÑÏßÄ' },
                        { rank: 28, name: 'ÎÇòÎÖ∏Ïã†ÏÜåÏû¨', code: '121600', market: 'KOSDAQ', price: 115000, change: 1500, rate: 1.32, industry: '2Ï∞®Ï†ÑÏßÄ' },
                        { rank: 29, name: 'Ï†úÏù¥Ïï§Ìã∞Ïî®', code: '204270', market: 'KOSDAQ', price: 22000, change: 800, rate: 3.77, industry: 'ITÎ∂ÄÌíà' },
                        { rank: 30, name: 'ÌîºÏóîÌã∞', code: '137400', market: 'KOSDAQ', price: 54000, change: -500, rate: -0.92, industry: '2Ï∞®Ï†ÑÏßÄ' },
                        { rank: 31, name: 'ÏóêÏä§Ìã∞Ìåú', code: '237690', market: 'KOSDAQ', price: 98000, change: 2000, rate: 2.08, industry: 'Î∞îÏù¥Ïò§' },
                        { rank: 32, name: 'Ïî®Ï††', code: '096530', market: 'KOSDAQ', price: 24500, change: 100, rate: 0.41, industry: 'Î∞îÏù¥Ïò§' },
                        { rank: 33, name: 'ISC', code: '095340', market: 'KOSDAQ', price: 78000, change: 1000, rate: 1.30, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 34, name: 'Ìã∞Ïî®ÏºÄÏù¥', code: '064760', market: 'KOSDAQ', price: 105000, change: -1000, rate: -0.94, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 35, name: 'Ï£ºÏÑ±ÏóîÏßÄÎãàÏñ¥ÎßÅ', code: '036930', market: 'KOSDAQ', price: 32000, change: 500, rate: 1.59, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 36, name: 'SOOP', code: '067160', market: 'KOSDAQ', price: 115000, change: -2000, rate: -1.71, industry: 'ÌîåÎû´Ìèº' },
                        { rank: 37, name: 'ÏôÄÏù¥ÏßÄÏóîÌÑ∞ÌÖåÏù∏Î®ºÌä∏', code: '122870', market: 'KOSDAQ', price: 38000, change: -500, rate: -1.30, industry: 'ÏóîÌÑ∞' },
                        { rank: 38, name: 'ÎÑ•Ïä®Í≤åÏûÑÏ¶à', code: '225570', market: 'KOSDAQ', price: 15500, change: 200, rate: 1.31, industry: 'Í≤åÏûÑ' },
                        { rank: 39, name: 'Î£®Îãõ', code: '328130', market: 'KOSDAQ', price: 48000, change: 1000, rate: 2.13, industry: 'ÏùòÎ£åAI' },
                        { rank: 40, name: 'HKÏù¥ÎÖ∏Ïóî', code: '195940', market: 'KOSDAQ', price: 42000, change: 500, rate: 1.20, industry: 'Ï†úÏïΩ' },
                        { rank: 41, name: 'Ìú¥Ïò®Ïä§', code: '243070', market: 'KOSDAQ', price: 32000, change: 100, rate: 0.31, industry: 'Ï†úÏïΩ' },
                        { rank: 42, name: 'ÏóêÏù¥ÎπÑÏóòÎ∞îÏù¥Ïò§', code: '298380', market: 'KOSDAQ', price: 34000, change: 800, rate: 2.41, industry: 'Î∞îÏù¥Ïò§' },
                        { rank: 43, name: 'Ïò§Ïä§ÏΩîÌÖç', code: '039200', market: 'KOSDAQ', price: 38000, change: 500, rate: 1.33, industry: 'Î∞îÏù¥Ïò§' },
                        { rank: 44, name: 'Ï∞®Î∞îÏù¥Ïò§ÌÖç', code: '085660', market: 'KOSDAQ', price: 14500, change: -100, rate: -0.68, industry: 'Î∞îÏù¥Ïò§' },
                        { rank: 45, name: 'Î©îÎîîÌÜ°Ïä§', code: '086900', market: 'KOSDAQ', price: 142000, change: -2000, rate: -1.39, industry: 'Î∞îÏù¥Ïò§' },
                        { rank: 46, name: 'ÌååÌÅ¨ÏãúÏä§ÌÖúÏä§', code: '140860', market: 'KOSDAQ', price: 165000, change: 3000, rate: 1.85, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 47, name: 'Í≥†ÏòÅ', code: '098460', market: 'KOSDAQ', price: 13500, change: 100, rate: 0.75, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 48, name: 'Ïã¨ÌÖç', code: '222800', market: 'KOSDAQ', price: 24000, change: -200, rate: -0.83, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 49, name: 'ÌïòÎÇòÎßàÏù¥ÌÅ¨Î°†', code: '067310', market: 'KOSDAQ', price: 18500, change: 300, rate: 1.65, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 50, name: 'ÎëêÏÇ∞ÌÖåÏä§ÎÇò', code: '131970', market: 'KOSDAQ', price: 38000, change: 500, rate: 1.33, industry: 'Î∞òÎèÑÏ≤¥' },
                        { rank: 51, name: 'ÎπÑÏóêÏù¥Ïπò', code: '090460', market: 'KOSDAQ', price: 19500, change: 200, rate: 1.04, industry: 'ITÎ∂ÄÌíà' },
                        { rank: 52, name: 'Ïó†Î°ú', code: '058970', market: 'KOSDAQ', price: 62000, change: 1000, rate: 1.64, industry: 'ÏÜåÌîÑÌä∏Ïõ®Ïñ¥' },
                        { rank: 53, name: 'Ïπ¥Ìéò24', code: '042000', market: 'KOSDAQ', price: 28000, change: -500, rate: -1.75, industry: 'ÌîåÎû´Ìèº' },
                        { rank: 54, name: 'ÏïÑÌîÑÎ¶¨Ïπ¥TV', code: '067160', market: 'KOSDAQ', price: 105000, change: -1000, rate: -0.94, industry: 'ÌîåÎû´Ìèº' },
                        { rank: 55, name: 'ÏúÑÎ©îÏù¥Îìú', code: '112040', market: 'KOSDAQ', price: 42000, change: -1000, rate: -2.33, industry: 'Í≤åÏûÑ' },
                        { rank: 56, name: 'Ï≤úÎ≥¥', code: '278280', market: 'KOSDAQ', price: 75000, change: -1500, rate: -1.96, industry: '2Ï∞®Ï†ÑÏßÄ' },
                        { rank: 57, name: 'ÏÑ±Ïö∞ÌïòÏù¥ÌÖç', code: '015750', market: 'KOSDAQ', price: 8500, change: 50, rate: 0.59, industry: 'ÏûêÎèôÏ∞®' },
                        { rank: 58, name: 'ÏÑúÏßÑÏãúÏä§ÌÖú', code: '178320', market: 'KOSDAQ', price: 26000, change: 500, rate: 1.96, industry: 'ÌÜµÏã†Ïû•ÎπÑ' },
                        { rank: 59, name: 'Ïù∏ÌÖîÎ¶¨ÏïàÌÖåÌÅ¨', code: '189300', market: 'KOSDAQ', price: 58000, change: 1000, rate: 1.75, industry: 'ÌÜµÏã†Ïû•ÎπÑ' },
                        { rank: 60, name: 'Ï†úÏùºÏó†Ïï§ÏóêÏä§', code: '456789', market: 'KOSDAQ', price: 18000, change: 200, rate: 1.12, industry: '2Ï∞®Ï†ÑÏßÄ' }
                    ]
                };
            }

            async fetchGlobalData() {
                return new Promise(resolve => setTimeout(() => resolve(this.db.global), 600));
            }

            async fetchStocks(marketFilter = 'ALL') {
                return new Promise(resolve => {
                    setTimeout(() => {
                        const data = this.db.stocks.filter(s => 
                            marketFilter === 'ALL' ? true : s.market === marketFilter
                        );
                        resolve(data);
                    }, 400); 
                });
            }
        }

        class DashboardApp {
            constructor() {
                this.api = new StockApiService();
                this.state = {
                    currentMarket: 'KOSDAQ',
                    activeCode: null,
                    stocks: []
                };
                
                this.ui = {
                    globalStats: document.getElementById('global-stats'),
                    industryGrid: document.getElementById('industry-grid'),
                    loading: document.getElementById('loading-overlay'),
                    detail: {
                        badge: document.getElementById('detail-badge'),
                        industry: document.getElementById('detail-industry'),
                        name: document.getElementById('detail-name'),
                        code: document.getElementById('detail-code'),
                        price: document.getElementById('detail-price'),
                        change: document.getElementById('detail-change'),
                        rate: document.getElementById('detail-rate'),
                        simLow: document.getElementById('sim-low'),
                        simHigh: document.getElementById('sim-high'),
                        dot: document.getElementById('price-dot'),
                        news: document.getElementById('news-list'),
                        links: {
                            naver: document.getElementById('naver-link'),
                            dart: document.getElementById('dart-link')
                        }
                    }
                };
            }

            async init() {
                try {
                    console.log("App Initializing...");
                    this.updateTime();
                    this.updateFilterButtons();
                    await this.refreshData();
                    setInterval(() => this.updateTime(), 60000);
                    
                    // [Diagnostic] Remove overlay if initialization is successful
                    // const overlay = document.getElementById('diagnostic-overlay');
                    // if (overlay) {
                    //     overlay.style.display = 'none'; // Hide overlay on success
                    // }
                    console.log("App Initialized Successfully.");
                } catch (err) {
                    console.error("Init failed:", err);
                    document.getElementById('error-banner').style.display = 'block';
                    document.getElementById('error-banner').textContent = `Ï¥àÍ∏∞Ìôî Ïã§Ìå®: ${err.message || 'Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò'}`;
                    // document.getElementById('js-status').textContent = 'Ï¥àÍ∏∞Ìôî Ïã§Ìå® (ÏΩòÏÜî ÌôïÏù∏)';
                    throw err; // Trigger global handler
                }
            }

            updateTime() {
                const now = new Date();
                const timeStr = now.toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' });
                document.getElementById('last-updated').textContent = `Updated ${timeStr}`;
            }

            async refreshData() {
                this.ui.loading.classList.remove('hidden');
                
                try {
                    const [globalData, stockData] = await Promise.all([
                        this.api.fetchGlobalData(),
                        this.api.fetchStocks(this.state.currentMarket)
                    ]);
                    
                    this.renderGlobalStats(globalData);
                    this.state.stocks = stockData;
                    this.renderStockGrid();
                    
                    if (stockData.length > 0) {
                        const target = this.state.stocks.find(s => s.code === this.state.activeCode) 
                            || stockData[0];
                        this.selectStock(target.code);
                    }
                } finally {
                    this.ui.loading.classList.add('hidden');
                    this.updateTime();
                }
            }

            setFilter(market) {
                this.state.currentMarket = market;
                this.state.activeCode = null;
                this.updateFilterButtons();
                this.refreshData();
            }

            updateFilterButtons() {
                ['all', 'kospi', 'kosdaq'].forEach(m => {
                    const btn = document.getElementById(`filter-${m}`);
                    const isActive = m === this.state.currentMarket.toLowerCase();
                    btn.className = isActive 
                        ? 'px-3 py-1.5 text-xs font-bold rounded-md transition-all bg-indigo-600 text-white shadow-sm'
                        : 'px-3 py-1.5 text-xs font-bold rounded-md transition-all text-slate-500 hover:bg-slate-200';
                });
            }

            renderGlobalStats(data) {
                this.ui.globalStats.innerHTML = data.map(item => {
                    const isUp = item.change > 0;
                    const colorClass = isUp ? 'text-up' : 'text-down';
                    const sign = isUp ? '‚ñ≤' : '‚ñº';
                    
                    return `
                        <div class="global-card">
                            <div class="text-[10px] font-bold text-slate-500 mb-0.5 truncate uppercase tracking-wider">${item.name}</div>
                            <div class="flex items-end justify-between">
                                <span class="text-sm font-black text-slate-800 num-font">${item.value.toLocaleString()}</span>
                                <div class="flex flex-col items-end leading-none">
                                    <span class="text-[10px] font-bold ${colorClass}">${sign} ${Math.abs(item.change).toLocaleString()}</span>
                                    <span class="text-[10px] font-bold ${colorClass} opacity-80 mt-0.5">${Math.abs(item.rate)}%</span>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
            }

            renderStockGrid() {
                const grouped = this.state.stocks.reduce((acc, stock) => {
                    const k = stock.industry;
                    if (!acc[k]) acc[k] = [];
                    acc[k].push(stock);
                    return acc;
                }, {});

                this.ui.industryGrid.innerHTML = Object.keys(grouped).map(industry => {
                    const stocks = grouped[industry];
                    const itemsHtml = stocks.map(stock => {
                        const isUp = stock.rate > 0;
                        const bgClass = isUp ? 'bg-up' : 'bg-down';
                        const textClass = isUp ? 'text-up' : 'text-down';
                        const isActive = this.state.activeCode === stock.code ? 'active' : '';
                        const badgeClass = stock.market === 'KOSPI' ? 'rank-kospi' : 'rank-kosdaq';
                        
                        return `
                            <div class="stock-item ${bgClass} ${isActive}" onclick="app.selectStock('${stock.code}')">
                                <div class="flex justify-between items-start">
                                    <span class="rank-badge ${badgeClass}">${stock.rank}</span>
                                    <span class="text-[10px] font-bold ${textClass} bg-white/60 px-1 py-0.5 rounded">${stock.rate > 0 ? '+' : ''}${stock.rate}%</span>
                                </div>
                                <div class="mt-2">
                                    <div class="font-bold text-slate-800 text-xs truncate leading-tight">${stock.name}</div>
                                    <div class="font-extrabold text-slate-900 num-font mt-0.5 text-xs">${stock.price.toLocaleString()}</div>
                                </div>
                            </div>
                        `;
                    }).join('');

                    return `
                        <div class="bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden">
                            <div class="bg-slate-50 px-3 py-2 border-b border-slate-100 flex justify-between items-center">
                                <h3 class="text-xs font-bold text-slate-700">${industry}</h3>
                                <span class="text-[9px] font-semibold text-slate-400 bg-white px-1.5 py-0.5 rounded border border-slate-200">${stocks.length}</span>
                            </div>
                            <div class="p-2 grid grid-cols-2 gap-2">
                                ${itemsHtml}
                            </div>
                        </div>
                    `;
                }).join('');
            }

            selectStock(code) {
                this.state.activeCode = code;
                const stock = this.state.stocks.find(s => s.code === code);
                this.renderStockGrid(); 
                this.renderDetail(stock);
            }

            renderDetail(stock) {
                if (!stock) return;

                const d = this.ui.detail;
                const isUp = stock.rate > 0;
                const colorClass = isUp ? 'text-up' : 'text-down';
                const bgClass = isUp ? 'bg-up' : 'bg-down';

                d.badge.textContent = stock.market;
                d.badge.className = `px-2 py-0.5 text-[10px] font-bold rounded ${stock.market === 'KOSPI' ? 'bg-amber-100 text-amber-700' : 'bg-emerald-100 text-emerald-700'}`;
                
                d.industry.textContent = stock.industry;
                d.name.textContent = stock.name;
                d.code.textContent = stock.code;
                
                d.price.textContent = stock.price.toLocaleString();
                d.price.className = `text-3xl font-black num-font ${colorClass}`;
                
                d.change.textContent = `${stock.change > 0 ? '‚ñ≤' : '‚ñº'} ${Math.abs(stock.change).toLocaleString()}`;
                d.change.className = `text-md font-bold num-font ${colorClass}`;
                
                d.rate.textContent = `${stock.rate > 0 ? '+' : ''}${stock.rate}%`;
                d.rate.className = `px-2 py-0.5 rounded text-[10px] font-bold num-font ${bgClass} ${colorClass}`;

                const low = Math.round(stock.price * 0.98);
                const high = Math.round(stock.price * 1.02);
                d.simLow.textContent = low.toLocaleString();
                d.simHigh.textContent = high.toLocaleString();
                
                const randomPercent = 30 + Math.random() * 40; 
                d.dot.style.left = `${randomPercent}%`;

                const newsItems = [
                    `${stock.name}, 4Î∂ÑÍ∏∞ Ïã§Ï†Å Í∏∞ÎåÄÍ∞êÏóê ÏÉÅÏäπÏÑ∏`,
                    `Ïô∏Íµ≠Ïù∏/Í∏∞Í¥Ä ÎèôÎ∞ò Îß§Ïàò... ${stock.name} Ï£ºÎ™©`,
                    `${stock.industry} ÏóÖÌô© Í∞úÏÑ† Ïã†Ìò∏ÌÉÑ?`,
                    `Ï¶ùÍ∂åÍ∞Ä "${stock.name} Î™©ÌëúÏ£ºÍ∞Ä ÏÉÅÌñ• Ï°∞Ï†ï"`
                ];
                
                d.news.innerHTML = newsItems.map(title => `
                    <a href="#" class="block p-2 rounded hover:bg-slate-50 transition border border-transparent hover:border-slate-100 group">
                        <div class="text-xs font-semibold text-slate-700 truncate group-hover:text-indigo-600">${title}</div>
                        <div class="text-[10px] text-slate-400 mt-0.5 flex justify-between">
                            <span>ÌïúÍµ≠Í≤ΩÏ†ú</span>
                            <span>10Î∂Ñ Ï†Ñ</span>
                        </div>
                    </a>
                `).join('');

                d.links.naver.href = `https://finance.naver.com/item/main.naver?code=${stock.code}`;
                d.links.dart.href = `https://dart.fss.or.kr/dsac001/main.do?&textCrpNm=${encodeURIComponent(stock.name)}`;
            }
        }

        const app = new DashboardApp();
        document.addEventListener('DOMContentLoaded', () => app.init());

    </script>
</body>
</html>